<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="5/23/2022 10:02:48 AM"
  DTS:CreationName="Microsoft.Package"
  DTS:CreatorComputerName="S19-BI-DB"
  DTS:CreatorName="TDANIX\kma1860"
  DTS:DTSID="{5F04560D-A468-44A5-A84A-8359F5C6CE51}"
  DTS:ExecutableType="Microsoft.Package"
  DTS:LastModifiedProductVersion="16.0.845.0"
  DTS:LocaleID="1049"
  DTS:ObjectName="1822"
  DTS:PackageType="5"
  DTS:ProtectionLevel="0"
  DTS:VersionBuild="27"
  DTS:VersionGUID="{697601C4-1E85-43C5-B511-FDAB3DE1F775}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:ConnectionManagers>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
      DTS:CreationName="ADO.NET:System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
      DTS:DTSID="{97220118-FEE3-405C-9A2C-E83EF32260D2}"
      DTS:ObjectName="S19-STORAGE-SQL.CS.reader">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=S19-STORAGE-SQL;Initial Catalog=CS;Integrated Security=True;Application Name=SSIS-Package-{97220118-FEE3-405C-9A2C-E83EF32260D2}S19-STORAGE-SQL.CS.reader;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
      DTS:CreationName="ADO.NET:System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
      DTS:DTSID="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
      DTS:ObjectName="S19-STORAGE-SQL.ERP_reports.reader">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=S19-STORAGE-SQL;Initial Catalog=ERP_reports;Integrated Security=True;Application Name=SSIS-Package-{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}S19-STORAGE-SQL.ERP_reports.reader;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
      DTS:CreationName="ADO.NET:System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
      DTS:DTSID="{B2E817E9-F0AE-41E2-9455-4F4D6B190E22}"
      DTS:ObjectName="s8-olap-test.olap-rozn.reader">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=s19-olap;Initial Catalog=olap-rozn;Integrated Security=True;Application Name=SSIS-Package-{B2E817E9-F0AE-41E2-9455-4F4D6B190E22}s8-olap-test.olap-rozn.reader;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[serv-term.rozn.reader]"
      DTS:CreationName="ADO.NET:System.Data.SqlClient.SqlConnection, System.Data, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
      DTS:DTSID="{8BC5E170-3478-4D9E-BE3F-3318FB3D6C41}"
      DTS:ObjectName="serv-term.rozn.reader">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=serv-term;Initial Catalog=rozn;Integrated Security=True;Application Name=SSIS-Package-{8BC5E170-3478-4D9E-BE3F-3318FB3D6C41}serv-term.rozn.reader;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
  </DTS:ConnectionManagers>
  <DTS:Variables />
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Загрузка дневных продаж"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{513777F0-37D3-47F7-924F-7AE996C2BC77}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка дневных продаж"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка дневных продаж\ERP_reports"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="ERP_reports"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_sales"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка дневных продаж\ERP_reports.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET].Columns[Продажи]"
                      cachedDataType="cy"
                      cachedName="Продажи"
                      externalMetadataColumnId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Продажи]"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Продажи]" />
                    <inputColumn
                      refId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET].Columns[GOODS_ID]"
                      cachedDataType="i8"
                      cachedName="GOODS_ID"
                      externalMetadataColumnId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[GOODS_ID]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Продажи]"
                      dataType="numeric"
                      name="Продажи"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка дневных продаж\ERP_reports.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка дневных продаж\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка дневных продаж\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка дневных продаж\OLAP-ROZN"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="OLAP-ROZN"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">SELECT [GOODS_ID]
      ,sum(SUM_RESULT) Продажи
      FROM [olap-rozn].[dbo].[SALES] s
  left join cheques c on s.CHEQUE_ID = c.CHEQUE_ID
  left join MAGAZIN m on c.MAGAZ = m.MAG
  where c.DATE_TIME_END between cast(DATEADD(DAY, -1, GETDATE()) AS date) and CAST(GETDATE() as date) and m.NMAG in (select КодМагазина from [1822_shops])
  group by GOODS_ID</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">0</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка дневных продаж\OLAP-ROZN.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[GOODS_ID]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[GOODS_ID]"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[GOODS_ID]"
                      name="GOODS_ID"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Продажи]"
                      dataType="cy"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[Продажи]"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Продажи]"
                      name="Продажи"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[GOODS_ID]"
                      dataType="i8"
                      name="GOODS_ID" />
                    <externalMetadataColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[Продажи]"
                      dataType="cy"
                      name="Продажи" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[GOODS_ID]"
                      dataType="i8"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[GOODS_ID]"
                      name="GOODS_ID" />
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[Продажи]"
                      dataType="cy"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[Продажи]"
                      name="Продажи" />
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка дневных продаж.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка дневных продаж\ERP_reports.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка дневных продаж\OLAP-ROZN.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка магазинов"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{2B2C9F9A-057F-45E1-93DB-E6906FD87362}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка магазинов"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка магазинов\s19storage-sql"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="s19storage-sql"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_shops"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка магазинов\s19storage-sql.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка магазинов\s19storage-sql.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка магазинов\s19storage-sql.Inputs[Вход назначения ADO NET].Columns[code]"
                      cachedDataType="wstr"
                      cachedLength="6"
                      cachedName="code"
                      externalMetadataColumnId="Package\Загрузка магазинов\s19storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодМагазина]"
                      lineageId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET].Columns[code]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка магазинов\s19storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодМагазина]"
                      dataType="i8"
                      name="КодМагазина" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка магазинов\s19storage-sql.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка магазинов\s19storage-sql.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка магазинов\s19storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка магазинов\s19storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка магазинов\s19storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка магазинов\s19storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка магазинов\ОТБРС"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="ОТБРС"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">select code
	from
		sc36 СпрКлиенты (nolock)
	where
		СпрКлиенты.parentid = '     1   ' and --В группе "Розница"
		СпрКлиенты.SP2843 &lt; getdate() and --Дата открытия
		(СпрКлиенты.SP4571 is null or СпрКлиенты.SP4571 &lt; getdate()) --Дата конца реконструкции</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка магазинов\ОТБРС.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[serv-term.rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[serv-term.rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET].Columns[code]"
                      dataType="wstr"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[code]"
                      length="6"
                      lineageId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET].Columns[code]"
                      name="code"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[code]"
                      dataType="wstr"
                      length="6"
                      name="code" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[code]"
                      dataType="wstr"
                      length="6"
                      lineageId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[code]"
                      name="code" />
                    <outputColumn
                      refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка магазинов.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка магазинов\s19storage-sql.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка магазинов\ОТБРС.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка остатков из CS"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{207BA294-4C27-41F9-A6C3-2FE407D24590}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка остатков из CS"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка остатков из CS\CS"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="CS"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">SELECT [Код]
      ,sum([Остаток]) Остаток
  FROM [CS].[dbo].[Остатки_товаров]
  where Дата = cast(dateadd(day, -1, getdate()) as date)
  and КодМагазина in (select КодМагазина from temp_1822_shops)
  group by Код</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">600</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка остатков из CS\CS.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Код]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[Код]"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Код]"
                      name="Код"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Остаток]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[Остаток]"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Остаток]"
                      name="Остаток"
                      precision="38"
                      scale="3"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[Код]"
                      dataType="i8"
                      name="Код" />
                    <externalMetadataColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[Остаток]"
                      dataType="numeric"
                      name="Остаток"
                      precision="38"
                      scale="3" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[Код]"
                      dataType="i8"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[Код]"
                      name="Код" />
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[Остаток]"
                      dataType="numeric"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[Остаток]"
                      name="Остаток"
                      precision="38"
                      scale="3" />
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка остатков из CS\ERP_reports"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="ERP_reports"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_balance"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">600</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка остатков из CS\ERP_reports.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].Columns[Остаток]"
                      cachedDataType="numeric"
                      cachedName="Остаток"
                      cachedPrecision="38"
                      cachedScale="3"
                      externalMetadataColumnId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Остаток]"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Остаток]" />
                    <inputColumn
                      refId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].Columns[Код]"
                      cachedDataType="i8"
                      cachedName="Код"
                      externalMetadataColumnId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Код]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Остаток]"
                      dataType="numeric"
                      name="Остаток"
                      precision="18"
                      scale="3" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка остатков из CS.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка остатков из CS\CS.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка продаж за 14 дней для расчета средних"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{6F859B2F-594C-4EC0-AC39-3BEC36E14AE9}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка продаж за 14 дней для расчета средних"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="ERP_reports"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_tmp_sales"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].Columns[Продажи]"
                      cachedDataType="r8"
                      cachedName="Продажи"
                      externalMetadataColumnId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Продажи]"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Продажи]" />
                    <inputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].Columns[GOODS_ID]"
                      cachedDataType="i8"
                      cachedName="GOODS_ID"
                      externalMetadataColumnId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТоварв]"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[GOODS_ID]" />
                    <inputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].Columns[Дата]"
                      cachedDataType="dbDate"
                      cachedName="Дата"
                      externalMetadataColumnId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Дата]"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Дата]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Дата]"
                      dataType="dbTimeStamp"
                      name="Дата" />
                    <externalMetadataColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТоварв]"
                      dataType="i8"
                      name="КодТоварв" />
                    <externalMetadataColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Продажи]"
                      dataType="numeric"
                      name="Продажи"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="OLAP-ROZN"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">DECLARE @StartDate DATE, @EndDate DATE
SET @StartDate = dateadd(day, -14, getdate())
SET @EndDate = GETDATE()

SELECT cast(DATE_TIME_SALE as date) Дата,
		[GOODS_ID]
      ,sum(Quantity) Продажи
      FROM [olap-rozn].[dbo].[SALES] s
  left join cheques c on s.CHEQUE_ID = c.CHEQUE_ID
  left join MAGAZIN m on c.MAGAZ = m.MAG
  where c.DATE_TIME_END between @StartDate and @EndDate and m.NMAG in (select КодМагазина from [1822_shops])
group by cast(DATE_TIME_SALE as date), Goods_id</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">9999</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Дата]"
                      dataType="dbDate"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[Дата]"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Дата]"
                      name="Дата"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[GOODS_ID]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[GOODS_ID]"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[GOODS_ID]"
                      name="GOODS_ID"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Продажи]"
                      dataType="r8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[Продажи]"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].Columns[Продажи]"
                      name="Продажи"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[Дата]"
                      dataType="dbDate"
                      name="Дата" />
                    <externalMetadataColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[GOODS_ID]"
                      dataType="i8"
                      name="GOODS_ID" />
                    <externalMetadataColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET].ExternalColumns[Продажи]"
                      dataType="r8"
                      name="Продажи" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[Дата]"
                      dataType="dbDate"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[Дата]"
                      name="Дата" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[GOODS_ID]"
                      dataType="i8"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[GOODS_ID]"
                      name="GOODS_ID" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[Продажи]"
                      dataType="r8"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[Продажи]"
                      name="Продажи" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка продаж за 14 дней для расчета средних.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка средних остатков из CS"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{3C103559-7606-441E-AB28-1CCCBBA1E167}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка средних остатков из CS"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка средних остатков из CS\CS"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="CS"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">DECLARE @StartDate DATE, @EndDate DATE
SET @StartDate = dateadd(day, -14, getdate())
SET @EndDate = dateadd(day, -1, getdate())


truncate table [dbo].[tmp_1822_Остатки]

insert into [dbo].[tmp_1822_Остатки]

SELECT [Дата]
      ,[Код]
      ,sum([Остаток]) Остаток
  FROM [CS].[dbo].[Остатки_товаров] о
  where Дата between @StartDate and @EndDate 
  and КодМагазина in (Select КодМагазина from [dbo].[temp_1822_shops]) and Код &gt; 0
  group by Дата, Код
  order by Код, Дата

Select К.Код, avg(case when о.остаток is null then 0 else о.остаток end) остаток from (
SELECT DATEADD(DAY,number,@StartDate) [Date]
FROM master..spt_values
WHERE type = 'P'
AND DATEADD(DAY,number,@StartDate) &lt;= @EndDate) calendar
cross join (select distinct Код from [dbo].[tmp_1822_Остатки]) к
left join [dbo].[tmp_1822_Остатки] о on Date = о.Дата and к.код = о.код
group by к.Код</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка средних остатков из CS\CS.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Код]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[Код]"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Код]"
                      name="Код"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[остаток]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[остаток]"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[остаток]"
                      name="остаток"
                      precision="38"
                      scale="6"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[Код]"
                      dataType="i8"
                      name="Код" />
                    <externalMetadataColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].ExternalColumns[остаток]"
                      dataType="numeric"
                      name="остаток"
                      precision="38"
                      scale="6" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[Код]"
                      dataType="i8"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[Код]"
                      name="Код" />
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[остаток]"
                      dataType="numeric"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[остаток]"
                      name="остаток"
                      precision="38"
                      scale="6" />
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка средних остатков из CS\ERP_reports"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="ERP_reports"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_avg_bal"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка средних остатков из CS\ERP_reports.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].Columns[остаток]"
                      cachedDataType="numeric"
                      cachedName="остаток"
                      cachedPrecision="38"
                      cachedScale="6"
                      externalMetadataColumnId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Остаток]"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[остаток]" />
                    <inputColumn
                      refId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].Columns[Код]"
                      cachedDataType="i8"
                      cachedName="Код"
                      externalMetadataColumnId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET].Columns[Код]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET].ExternalColumns[Остаток]"
                      dataType="numeric"
                      name="Остаток"
                      precision="18"
                      scale="3" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка средних остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка средних остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка средних остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка средних остатков из CS\ERP_reports.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка средних остатков из CS.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка средних остатков из CS\ERP_reports.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка средних остатков из CS\CS.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка стоимости остатков из ОТБРС"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{852BDAA0-3FA8-48D5-B86C-3EF52ACD5035}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка стоимости остатков из ОТБРС"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="s19-storage-sql"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_balance_value"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].Columns[КодТовара]"
                      cachedDataType="wstr"
                      cachedLength="10"
                      cachedName="КодТовара"
                      externalMetadataColumnId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]" />
                    <inputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].Columns[ОстатокРуб]"
                      cachedDataType="numeric"
                      cachedName="ОстатокРуб"
                      cachedPrecision="38"
                      cachedScale="2"
                      externalMetadataColumnId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[Стоимость]"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[ОстатокРуб]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[Стоимость]"
                      dataType="numeric"
                      name="Стоимость"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="ОТБРС"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">declare @dateStart  char(8);
declare @dateEnd    char(9);
declare @period     char(10);
declare @curDate  datetime;
declare @curDateM datetime;

set @curDate = dateAdd(day,  -1, getdate());
set @curDateM = dateAdd(month, -1, @curDate);

set @dateStart = CAST(DATEPART(YEAR, @curDate ) AS CHAR(4)) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDate ) AS CHAR(2)))), 2) + '01';
set @dateEnd   = CAST(DATEPART(YEAR, @curDate ) AS CHAR(4)) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDate ) AS CHAR(2)))), 2) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(DAY, @curDate ) AS CHAR(2)))), 2) + 'Z';
set @period    = CAST(DATEPART(YEAR, @curDateM ) AS CHAR(4)) + '-' + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDateM ) AS CHAR(2)))), 2) + '-01';

print @period

select   
	СпрТов.Code as КодТовара,
	sum(РегО.СтоимостьОстаток) ОстатокРуб
from 
	(
select
rr50_vt.sp51 as Товар,
rr50_vt.sp52 as Склад,
rr50_vt.sp1294 as Поставщик,
sum(rr50_vt.sp379) as СтоимостьОстаток,
sum(rr50_vt.sp54) as ОстатокТовараОстаток
from (
select
rg50_vt.sp51,
rg50_vt.sp52,
rg50_vt.sp1294,
rg50_vt.sp379,
rg50_vt.sp54
from rg50 as rg50_vt (nolock)
where rg50_vt.period=@period
union all
select
ra50_vt.sp51,
ra50_vt.sp52,
ra50_vt.sp1294,
case ra50_vt.debkred when 0 then ra50_vt.sp379 else -ra50_vt.sp379 end,
case ra50_vt.debkred when 0 then ra50_vt.sp54 else -ra50_vt.sp54 end
from ra50 as ra50_vt (nolock)
inner join _1sjourn as j50_vt (nolock) on j50_vt.iddoc = ra50_vt.iddoc
where j50_vt.date_time_iddoc &gt; @dateStart and j50_vt.date_time_iddoc &lt; @dateEnd
and j50_vt.rf50 = 0x1
) as rr50_vt
group by
rr50_vt.sp51,
rr50_vt.sp52,
rr50_vt.sp1294
having
sum(rr50_vt.sp379) &lt;&gt; 0 or
sum(rr50_vt.sp54) &lt;&gt; 0
) as РегО
Left Join
	sc11 as СпрТов (NoLock) on РегО.Товар = СпрТов.id
where  
	РегО.Склад IN (
		select id
		from
			sc36 СпрКлиенты (nolock)
		where
			СпрКлиенты.parentid = '     1   ' and
			СпрКлиенты.SP2843 &lt; getdate() and
			(СпрКлиенты.SP4571 is null or СпрКлиенты.SP4571 &lt; getdate())
	)
	and СпрТов.IsFolder = 2
Group by
	СпрТов.Code</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">999999</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[serv-term.rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[serv-term.rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      dataType="wstr"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      length="10"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      name="КодТовара"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[ОстатокРуб]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[ОстатокРуб]"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[ОстатокРуб]"
                      name="ОстатокРуб"
                      precision="38"
                      scale="2"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      dataType="wstr"
                      length="10"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[ОстатокРуб]"
                      dataType="numeric"
                      name="ОстатокРуб"
                      precision="38"
                      scale="2" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      dataType="wstr"
                      length="10"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      name="КодТовара" />
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ОстатокРуб]"
                      dataType="numeric"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ОстатокРуб]"
                      name="ОстатокРуб"
                      precision="38"
                      scale="2" />
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка стоимости остатков из ОТБРС.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка суммы переоценки из ОТБРС"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{670241BB-BB8F-4A92-AEC7-57CC37A0752A}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка суммы переоценки из ОТБРС"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="s19-stroage-sql"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_sum_reval"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET].Columns[КодТовара]"
                      cachedDataType="wstr"
                      cachedLength="10"
                      cachedName="КодТовара"
                      externalMetadataColumnId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]" />
                    <inputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET].Columns[СуммаПереоценки]"
                      cachedDataType="numeric"
                      cachedName="СуммаПереоценки"
                      cachedPrecision="18"
                      cachedScale="2"
                      externalMetadataColumnId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[СуммаПереоценки]"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[СуммаПереоценки]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[СуммаПереоценки]"
                      dataType="numeric"
                      name="СуммаПереоценки"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="ОТБРС"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">declare @dateStart  char(8);
declare @dateEnd    char(9);
declare @curDate  datetime;

set @curDate = dateAdd(day, -1, getdate());
set @dateStart = CAST(DATEPART(YEAR, @curDate ) AS CHAR(4)) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDate ) AS CHAR(2)))), 2) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(DAY, @curDate ) AS CHAR(2)))), 2);
set @dateEnd   = CAST(DATEPART(YEAR, @curDate ) AS CHAR(4)) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDate ) AS CHAR(2)))), 2) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(DAY, @curDate ) AS CHAR(2)))), 2) + 'Z';

select
КодТовара,
cast(sum(СуммаРазницы) as numeric(18,2)) as СуммаПереоценки
from (
SELECT
    СпрТов.Code КодТовара,
    SUM(ДокС.sp5382 * -1) as СуммаРазницы
FROM
    dt5384 as ДокС
INNER JOIN
    dh5384 as Док ON Док.IDDoc = ДокС.IDDoc AND
                                  Док.sp5375 in ('    1B   ', '    1Q   ') AND
												Док.sp5389 in (select id from sc36 СпрКлиенты (nolock) where СпрКлиенты.parentid = '     1   ' and СпрКлиенты.SP2843 &lt; getdate() and (СпрКлиенты.SP4571 is null or СпрКлиенты.SP4571 &lt; getdate()))
INNER JOIN
    _1SJourn as Жур (nolock) ON Жур.IDDoc = ДокС.IDDoc And
                       Жур.Date_Time_IDDoc BETWEEN @dateStart AND @dateEnd AND
                       Жур.Closed &amp; 1 = 1
left join sc11 СпрТов (nolock) on ДокС.sp5378 = СпрТов.ID 
GROUP BY
    СпрТов.Code
union all
SELECT
    СпрТов.Code КодТовара,
    SUM(ДокС1.sp5872 * ДокС1.sp5864 * ДокС1.sp5862 / 100) as СуммаРазницы
FROM
    dt5866 as ДокС1
INNER JOIN
    dh5866 as Док1 ON Док1.IDDoc = ДокС1.IDDoc AND
												Док1.sp5858 in (select id from sc36 СпрКлиенты (nolock) where СпрКлиенты.parentid = '     1   ' and СпрКлиенты.SP2843 &lt; getdate() and (СпрКлиенты.SP4571 is null or СпрКлиенты.SP4571 &lt; getdate()))
INNER JOIN
    _1SJourn as Жур (nolock) ON Жур.IDDoc = ДокС1.IDDoc And
                       Жур.Date_Time_IDDoc BETWEEN @dateStart AND @dateEnd
left join sc11 СпрТов (nolock) on ДокС1.sp5859 = СпрТов.ID 
GROUP BY
    СпрТов.Code
) a
where КодТовара is not null
group by КодТовара</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">9999</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[serv-term.rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[serv-term.rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      dataType="wstr"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      length="10"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      name="КодТовара"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[СуммаПереоценки]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[СуммаПереоценки]"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[СуммаПереоценки]"
                      name="СуммаПереоценки"
                      precision="18"
                      scale="2"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      dataType="wstr"
                      length="10"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[СуммаПереоценки]"
                      dataType="numeric"
                      name="СуммаПереоценки"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      dataType="wstr"
                      length="10"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      name="КодТовара" />
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[СуммаПереоценки]"
                      dataType="numeric"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[СуммаПереоценки]"
                      name="СуммаПереоценки"
                      precision="18"
                      scale="2" />
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка суммы переоценки из ОТБРС.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка суммы потерь из ОТБРС"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{5A51E123-2DB2-479F-A9E9-B04EEBC1F0C0}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка суммы потерь из ОТБРС"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="s19-storage-sql"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_sum_loses"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].Columns[КодТовара]"
                      cachedDataType="wstr"
                      cachedLength="10"
                      cachedName="КодТовара"
                      externalMetadataColumnId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]" />
                    <inputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].Columns[Сумма]"
                      cachedDataType="numeric"
                      cachedName="Сумма"
                      cachedPrecision="38"
                      cachedScale="2"
                      externalMetadataColumnId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[СуммаПотерь]"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[Сумма]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET].ExternalColumns[СуммаПотерь]"
                      dataType="numeric"
                      name="СуммаПотерь"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="ОТБРС"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">declare @dateStart  char(8);
declare @dateEnd    char(9);
declare @curDate  datetime;

set @curDate = dateAdd(day, -1, getdate());
set @dateStart = CAST(DATEPART(YEAR, @curDate ) AS CHAR(4)) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDate ) AS CHAR(2)))), 2) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(DAY, @curDate ) AS CHAR(2)))), 2);
set @dateEnd   = CAST(DATEPART(YEAR, @curDate ) AS CHAR(4)) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(MONTH, @curDate ) AS CHAR(2)))), 2) + RIGHT('0' + LTRIM(RTRIM(CAST(DATEPART(DAY, @curDate ) AS CHAR(2)))), 2) + 'Z';

select
	КодТовара,
	Sum(СуммаРазницы) Сумма
from
(
SELECT
    СпрТов.Code КодТовара,
    SUM(ДокС.sp5353 * -1) as СуммаРазницы
FROM
    dt5360 as ДокС
INNER JOIN
    dh5360 as Док ON Док.IDDoc = ДокС.IDDoc AND
                                  Док.sp5344 in ('    1P   ', '    16   ', '    23   ', '     3   ', '     4   ') AND
												Док.sp5370 in (select id from sc36 СпрКлиенты (nolock) where СпрКлиенты.parentid = '     1   ' and СпрКлиенты.SP2843 &lt; getdate() and (СпрКлиенты.SP4571 is null or СпрКлиенты.SP4571 &lt; getdate()))
INNER JOIN
    _1SJourn as Жур (nolock) ON Жур.IDDoc = ДокС.IDDoc And
                       Жур.Date_Time_IDDoc BETWEEN @dateStart AND @dateEnd AND
                       Жур.Closed &amp; 1 = 1
left join sc11 СпрТов (nolock) on ДокС.sp5356 = СпрТов.ID 
GROUP BY
    СпрТов.Code
Union all
SELECT
    СпрТов.Code КодТовара,
    SUM(ДокАкт.sp5335) as СуммаРазницы
FROM
    dt5341 as ДокАкт
INNER JOIN
    dh5341 as ДокА ON ДокА.IDDoc = ДокАкт.IDDoc AND
                                  ДокА.sp5331 in ('     E   ', '     L   ', '    22   ', '     Q   ', '     G   ', '     W   ', '    13   ', '     H   ', '     I   ', '    1V   ') AND
												ДокА.sp5368 in (select id from sc36 СпрКлиенты (nolock) where СпрКлиенты.parentid = '     1   ' and СпрКлиенты.SP2843 &lt; getdate() and (СпрКлиенты.SP4571 is null or СпрКлиенты.SP4571 &lt; getdate()))
INNER JOIN
    _1SJourn as Жур (nolock) ON Жур.IDDoc = ДокАкт.IDDoc And
                       Жур.Date_Time_IDDoc BETWEEN @dateStart AND @dateEnd AND
                       Жур.Closed &amp; 1 = 1
left join sc11 СпрТов (nolock) on ДокАкт.sp5332 = СпрТов.ID 
GROUP BY
    СпрТов.Code
) Потери
Group by КодТовара</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">9999</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[serv-term.rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[serv-term.rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      dataType="wstr"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      length="10"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      name="КодТовара"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[Сумма]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[Сумма]"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].Columns[Сумма]"
                      name="Сумма"
                      precision="38"
                      scale="2"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      dataType="wstr"
                      length="10"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET].ExternalColumns[Сумма]"
                      dataType="numeric"
                      name="Сумма"
                      precision="38"
                      scale="2" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      dataType="wstr"
                      length="10"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      name="КодТовара" />
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[Сумма]"
                      dataType="numeric"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[Сумма]"
                      name="Сумма"
                      precision="38"
                      scale="2" />
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка суммы потерь из ОТБРС.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка суммы потерь из ОТБРС\ОТБРС.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Загрузка фактов"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{2004D3A9-F470-47DB-8904-0A1821EF9586}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Загрузка фактов"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Загрузка фактов\Сбор данных"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="Сбор данных"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">select 
	cast(dateadd(day, -1, getdate()) as date) Дата,
	Товары.КодТовара, 
	Остатки.Остаток, 
	ОстаткиРуб.Стоимость, 
	case when СредниеПродажи.продажи is null or СредниеПродажи.продажи = 0 then null else cast(СредниеОстатки.Остаток / СредниеПродажи.Продажи as numeric(18,3)) end ОборачиваемостьДней,
	Потери.СуммаПотерь,
	--Продажи.Продажи,
	case when Продажи.Продажи is null or Продажи.Продажи = 0 then null else cast( Потери.СуммаПотерь / Продажи.Продажи * 100 as numeric(18,3)) end ПотериПроц,
	Переоценка.СуммаПереоценки ПереоценкаРуб,
	case when Продажи.Продажи is null or Продажи.Продажи = 0 then null else cast( Переоценка.СуммаПереоценки / Продажи.Продажи * 100 as numeric(18,3)) end ПереоценкаПроц
	from
( --Список товаров из всех источников, отображаем минимальную инфу, которую удалось получить
select distinct КодТовара from [1822_avg_bal]
union
select distinct КодТовара from [1822_avg_sales]
union
select distinct КодТовара from [1822_balance_value]
union
select distinct КодТовара from [1822_sales]
union
select distinct КодТовара from [1822_sum_loses] 
union
select distinct КодТовара from [1822_sum_reval] 
union
select distinct КодТовара from [1822_balance]
) Товары

left join [1822_balance] Остатки on Товары.КодТовара = Остатки.КодТовара
left join [1822_balance_value] ОстаткиРуб on Товары.КодТовара = ОстаткиРуб.КодТовара
left join [1822_avg_bal] СредниеОстатки on Товары.КодТовара = СредниеОстатки.КодТовара
left join [1822_avg_sales] СредниеПродажи on Товары.КодТовара = СредниеПродажи.КодТовара
left join [1822_sum_loses] Потери on Товары.КодТовара = Потери.КодТовара
left join [1822_sales] Продажи on Товары.КодТовара = Продажи.КодТовара
left join [1822_sum_reval] Переоценка on Товары.КодТовара = Переоценка.КодТовара

where Товары.КодТовара &gt; 0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка фактов\Сбор данных.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Дата]"
                      dataType="dbDate"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[Дата]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Дата]"
                      name="Дата"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[КодТовара]"
                      name="КодТовара"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Остаток]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[Остаток]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Остаток]"
                      name="Остаток"
                      precision="18"
                      scale="3"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Стоимость]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[Стоимость]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Стоимость]"
                      name="Стоимость"
                      precision="18"
                      scale="2"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ОборачиваемостьДней]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ОборачиваемостьДней]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ОборачиваемостьДней]"
                      name="ОборачиваемостьДней"
                      precision="18"
                      scale="3"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[СуммаПотерь]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[СуммаПотерь]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[СуммаПотерь]"
                      name="СуммаПотерь"
                      precision="18"
                      scale="2"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПотериПроц]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ПотериПроц]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПотериПроц]"
                      name="ПотериПроц"
                      precision="18"
                      scale="3"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПереоценкаРуб]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ПереоценкаРуб]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПереоценкаРуб]"
                      name="ПереоценкаРуб"
                      precision="18"
                      scale="2"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПереоценкаПроц]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ПереоценкаПроц]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПереоценкаПроц]"
                      name="ПереоценкаПроц"
                      precision="18"
                      scale="3"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[Дата]"
                      dataType="dbDate"
                      name="Дата" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[Остаток]"
                      dataType="numeric"
                      name="Остаток"
                      precision="18"
                      scale="3" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[Стоимость]"
                      dataType="numeric"
                      name="Стоимость"
                      precision="18"
                      scale="2" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ОборачиваемостьДней]"
                      dataType="numeric"
                      name="ОборачиваемостьДней"
                      precision="18"
                      scale="3" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[СуммаПотерь]"
                      dataType="numeric"
                      name="СуммаПотерь"
                      precision="18"
                      scale="2" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ПотериПроц]"
                      dataType="numeric"
                      name="ПотериПроц"
                      precision="18"
                      scale="3" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ПереоценкаРуб]"
                      dataType="numeric"
                      name="ПереоценкаРуб"
                      precision="18"
                      scale="2" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].ExternalColumns[ПереоценкаПроц]"
                      dataType="numeric"
                      name="ПереоценкаПроц"
                      precision="18"
                      scale="3" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[Дата]"
                      dataType="dbDate"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[Дата]"
                      name="Дата" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      dataType="i8"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[КодТовара]"
                      name="КодТовара" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[Остаток]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[Остаток]"
                      name="Остаток"
                      precision="18"
                      scale="3" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[Стоимость]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[Стоимость]"
                      name="Стоимость"
                      precision="18"
                      scale="2" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ОборачиваемостьДней]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ОборачиваемостьДней]"
                      name="ОборачиваемостьДней"
                      precision="18"
                      scale="3" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[СуммаПотерь]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[СуммаПотерь]"
                      name="СуммаПотерь"
                      precision="18"
                      scale="2" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ПотериПроц]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ПотериПроц]"
                      name="ПотериПроц"
                      precision="18"
                      scale="3" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ПереоценкаРуб]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ПереоценкаРуб]"
                      name="ПереоценкаРуб"
                      precision="18"
                      scale="2" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ПереоценкаПроц]"
                      dataType="numeric"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ПереоценкаПроц]"
                      name="ПереоценкаПроц"
                      precision="18"
                      scale="3" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Загрузка фактов\Факт"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="Факт"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_consolidated"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Загрузка фактов\Факт.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[Дата]"
                      cachedDataType="dbDate"
                      cachedName="Дата"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[Дата]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Дата]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[КодТовара]"
                      cachedDataType="i8"
                      cachedName="КодТовара"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[КодТовара]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[ОборачиваемостьДней]"
                      cachedDataType="numeric"
                      cachedName="ОборачиваемостьДней"
                      cachedPrecision="18"
                      cachedScale="3"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ОборачиваемостьДней]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ОборачиваемостьДней]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[ПотериПроц]"
                      cachedDataType="numeric"
                      cachedName="ПотериПроц"
                      cachedPrecision="18"
                      cachedScale="3"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПотериПроц]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПотериПроц]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[ПереоценкаРуб]"
                      cachedDataType="numeric"
                      cachedName="ПереоценкаРуб"
                      cachedPrecision="18"
                      cachedScale="2"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПереоценкаРуб]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПереоценкаРуб]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[ПереоценкаПроц]"
                      cachedDataType="numeric"
                      cachedName="ПереоценкаПроц"
                      cachedPrecision="18"
                      cachedScale="3"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПереоценкаПроц]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[ПереоценкаПроц]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[Остаток]"
                      cachedDataType="numeric"
                      cachedName="Остаток"
                      cachedPrecision="18"
                      cachedScale="3"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ОстатокШт]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Остаток]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[Стоимость]"
                      cachedDataType="numeric"
                      cachedName="Стоимость"
                      cachedPrecision="18"
                      cachedScale="2"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ОстатокРуб]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[Стоимость]" />
                    <inputColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].Columns[СуммаПотерь]"
                      cachedDataType="numeric"
                      cachedName="СуммаПотерь"
                      cachedPrecision="18"
                      cachedScale="2"
                      externalMetadataColumnId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПотериРуб]"
                      lineageId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET].Columns[СуммаПотерь]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[Дата]"
                      dataType="dbTimeStamp"
                      name="Дата" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ОстатокШт]"
                      dataType="numeric"
                      name="ОстатокШт"
                      precision="18"
                      scale="2" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ОстатокРуб]"
                      dataType="numeric"
                      name="ОстатокРуб"
                      precision="18"
                      scale="3" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ОборачиваемостьДней]"
                      dataType="numeric"
                      name="ОборачиваемостьДней"
                      precision="18"
                      scale="3" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПотериРуб]"
                      dataType="numeric"
                      name="ПотериРуб"
                      precision="18"
                      scale="2" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПотериПроц]"
                      dataType="numeric"
                      name="ПотериПроц"
                      precision="18"
                      scale="3" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПереоценкаРуб]"
                      dataType="numeric"
                      name="ПереоценкаРуб"
                      precision="18"
                      scale="2" />
                    <externalMetadataColumn
                      refId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET].ExternalColumns[ПереоценкаПроц]"
                      dataType="numeric"
                      name="ПереоценкаПроц"
                      precision="18"
                      scale="3" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Загрузка фактов\Факт.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Загрузка фактов\Факт.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Загрузка фактов\Факт.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Загрузка фактов\Факт.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Загрузка фактов\Факт.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Загрузка фактов.Paths[Вывод источника ADO NET]"
              endId="Package\Загрузка фактов\Факт.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Загрузка фактов\Сбор данных.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Копирование таблицы в CS"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{33089266-57B2-4664-BAE1-2E9EEE296B0E}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Копирование таблицы в CS"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Копирование таблицы в CS\CS"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="CS"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."temp_1822_shops"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Копирование таблицы в CS\CS.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.CS.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Копирование таблицы в CS\CS.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Копирование таблицы в CS\CS.Inputs[Вход назначения ADO NET].Columns[КодМагазина]"
                      cachedDataType="i8"
                      cachedName="КодМагазина"
                      externalMetadataColumnId="Package\Копирование таблицы в CS\CS.Inputs[Вход назначения ADO NET].ExternalColumns[КодМагазина]"
                      lineageId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET].Columns[КодМагазина]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Копирование таблицы в CS\CS.Inputs[Вход назначения ADO NET].ExternalColumns[КодМагазина]"
                      dataType="i8"
                      name="КодМагазина" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Копирование таблицы в CS\CS.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Копирование таблицы в CS\CS.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Копирование таблицы в CS\CS.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в CS\CS.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Копирование таблицы в CS\CS.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в CS\CS.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Копирование таблицы в CS\ERP_reports"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="ERP_reports"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_shops"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">0</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Копирование таблицы в CS\ERP_reports.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET].Columns[КодМагазина]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET].ExternalColumns[КодМагазина]"
                      lineageId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET].Columns[КодМагазина]"
                      name="КодМагазина"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET].ExternalColumns[КодМагазина]"
                      dataType="i8"
                      name="КодМагазина" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[КодМагазина]"
                      dataType="i8"
                      lineageId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[КодМагазина]"
                      name="КодМагазина" />
                    <outputColumn
                      refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Копирование таблицы в CS.Paths[Вывод источника ADO NET]"
              endId="Package\Копирование таблицы в CS\CS.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Копирование таблицы в CS\ERP_reports.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Копирование таблицы в olap-rozn"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{27D76F88-A6F3-4F08-8620-D4583F4E9D8C}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Копирование таблицы в olap-rozn"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Копирование таблицы в olap-rozn\ERP_reports"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="ERP_reports"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_shops"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">0</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET].Columns[КодМагазина]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET].ExternalColumns[КодМагазина]"
                      lineageId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET].Columns[КодМагазина]"
                      name="КодМагазина"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET].ExternalColumns[КодМагазина]"
                      dataType="i8"
                      name="КодМагазина" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[КодМагазина]"
                      dataType="i8"
                      lineageId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[КодМагазина]"
                      name="КодМагазина" />
                    <outputColumn
                      refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="OLAP-ROZN"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_shops"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[s8-olap-test.olap-rozn.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Inputs[Вход назначения ADO NET].Columns[КодМагазина]"
                      cachedDataType="i8"
                      cachedName="КодМагазина"
                      externalMetadataColumnId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Inputs[Вход назначения ADO NET].ExternalColumns[КодМагазина]"
                      lineageId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET].Columns[КодМагазина]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Inputs[Вход назначения ADO NET].ExternalColumns[КодМагазина]"
                      dataType="i8"
                      name="КодМагазина" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Копирование таблицы в olap-rozn.Paths[Вывод источника ADO NET]"
              endId="Package\Копирование таблицы в olap-rozn\OLAP-ROZN.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Копирование таблицы в olap-rozn\ERP_reports.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Определение средних продаж за 14 дней"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:Description="Задача потока данных"
      DTS:DTSID="{29FABBCC-426B-48AC-9D78-0FA5135D5FC7}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Определение средних продаж за 14 дней"
      DTS:TaskContact="Performs high-performance data extraction, transformation and loading;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Определение средних продаж за 14 дней\Временная таблица"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support4"
              description="Потребляет данные из SQL Server, OLE DB, ODBC или Oracle с помощью соответствующего поставщика данных .NET. Используйте инструкцию Transact-SQL для определения результирующего набора. Пример: извлечение данных из SQL Server с помощью поставщика данных .NET Framework для SQL Server."
              name="Временная таблица"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.String"
                  description="Задает инструкцию SQL, используемую компонентом для извлечения данных."
                  expressionType="Notify"
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">DECLARE @StartDate DATE, @EndDate DATE
SET @StartDate = dateadd(day, -14, getdate())
SET @EndDate = dateadd(day, -1, getdate())
Select К.КодТоварв, avg(case when о.Продажи is null then 0 else о.Продажи end) Продажи from (
SELECT DATEADD(DAY,number,@StartDate) [Date]
FROM master..spt_values
WHERE type = 'P'
AND DATEADD(DAY,number,@StartDate) &lt;= @EndDate) calendar
cross join (select distinct КодТоварв from [dbo].[1822_tmp_sales]) к
left join [dbo].[1822_tmp_sales] о on Date = о.Дата and к.КодТоварв = о.КодТоварв
group by к.КодТоварв
order by КодТоварв</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания команды, в секундах. Значение 0 означает неограниченное время ожидания."
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, будут ли внешние столбцы с типом, отличным от строкового, в выходных столбцах неявно преобразовываться в строки."
                  name="AllowImplicitStringConversion">true</property>
                <property
                  dataType="System.String"
                  description="Имя таблицы базы данных-источника."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor"></property>
                <property
                  dataType="System.Int32"
                  description="Укажите режим получения данных о внешних столбцах"
                  name="AccessMode"
                  typeConverter="Microsoft.SqlServer.Dts.Pipeline.DataReaderSourceAdapter+EnumToStringConverter">2</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.DataReaderSourceAdapter</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Определение средних продаж за 14 дней\Временная таблица.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET]"
                  name="Вывод источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].Columns[КодТоварв]"
                      dataType="i8"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].ExternalColumns[КодТоварв]"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].Columns[КодТоварв]"
                      name="КодТоварв"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].Columns[Продажи]"
                      dataType="numeric"
                      errorOrTruncationOperation="Преобразование"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].ExternalColumns[Продажи]"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].Columns[Продажи]"
                      name="Продажи"
                      precision="38"
                      scale="6"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].ExternalColumns[КодТоварв]"
                      dataType="i8"
                      name="КодТоварв" />
                    <externalMetadataColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].ExternalColumns[Продажи]"
                      dataType="numeric"
                      name="Продажи"
                      precision="38"
                      scale="6" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET]"
                  isErrorOut="true"
                  name="Вывод ошибок источника ADO NET">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[КодТоварв]"
                      dataType="i8"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[КодТоварв]"
                      name="КодТоварв" />
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[Продажи]"
                      dataType="numeric"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[Продажи]"
                      name="Продажи"
                      precision="38"
                      scale="6" />
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод ошибок источника ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Определение средних продаж за 14 дней\Средние продажи"
              componentClassID="Microsoft.ManagedComponentHost"
              contactInfo="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC.Корпорация Майкрософт (Microsoft Corporation). Microsoft SQL Server © Корпорация Майкрософт (Microsoft Corporation). Все права защищены. http://www.microsoft.com/sql/support2"
              description="Загружает данные в базы данных, поддерживающие ADO.NET, в которых используются таблицы или представления. Загружает данные в новую или существующую таблицу. Пример: использование поставщика ADO.NET для ODBC, чтобы загрузить данные в назначение ODBC."
              name="Средние продажи"
              usesDispositions="true"
              version="2">
              <properties>
                <property
                  dataType="System.String"
                  description="Имя таблицы в целевой базе данных."
                  expressionType="Notify"
                  name="TableOrViewName"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor">"dbo"."1822_avg_sales"</property>
                <property
                  dataType="System.Int32"
                  description="Укажите число строк в пакете. Значение по умолчанию - 0, при котором размер совпадает с внутренним буфером служб SSIS. "
                  expressionType="Notify"
                  name="BatchSize">0</property>
                <property
                  dataType="System.Int32"
                  description="Время ожидания для выполнения команды (в секундах). Значение 0 указывает на бесконечное время работы. "
                  expressionType="Notify"
                  name="CommandTimeout">30</property>
                <property
                  dataType="System.Boolean"
                  description="Указывает, нужно ли использовать интерфейс SqlBulkCopy для повышения производительности операций массовой вставки. Этот интерфейс поддерживается не всеми поставщиками."
                  expressionType="Notify"
                  name="UseBulkInsertWhenPossible">true</property>
                <property
                  dataType="System.String"
                  name="UserComponentTypeName">Microsoft.ADONETDestination</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Определение средних продаж за 14 дней\Средние продажи.Connections[IDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  connectionManagerRefId="Package.ConnectionManagers[S19-STORAGE-SQL.ERP_reports.reader]"
                  description="Диспетчер управляемых соединений"
                  name="IDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET]"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="Вход назначения ADO NET">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET].Columns[Продажи]"
                      cachedDataType="numeric"
                      cachedName="Продажи"
                      cachedPrecision="38"
                      cachedScale="6"
                      externalMetadataColumnId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET].ExternalColumns[Продажи]"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].Columns[Продажи]" />
                    <inputColumn
                      refId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET].Columns[КодТоварв]"
                      cachedDataType="i8"
                      cachedName="КодТоварв"
                      externalMetadataColumnId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      lineageId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET].Columns[КодТоварв]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET].ExternalColumns[КодТовара]"
                      dataType="i8"
                      name="КодТовара" />
                    <externalMetadataColumn
                      refId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET].ExternalColumns[Продажи]"
                      dataType="numeric"
                      name="Продажи"
                      precision="18"
                      scale="2" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Определение средних продаж за 14 дней\Средние продажи.Outputs[Вывод ошибок назначения ADO NET]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="Вывод ошибок назначения ADO NET"
                  synchronousInputId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Средние продажи.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Определение средних продаж за 14 дней\Средние продажи.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Определение средних продаж за 14 дней\Средние продажи.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Определение средних продаж за 14 дней\Средние продажи.Outputs[Вывод ошибок назначения ADO NET].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Определение средних продаж за 14 дней.Paths[Вывод источника ADO NET]"
              endId="Package\Определение средних продаж за 14 дней\Средние продажи.Inputs[Вход назначения ADO NET]"
              name="Вывод источника ADO NET"
              startId="Package\Определение средних продаж за 14 дней\Временная таблица.Outputs[Вывод источника ADO NET]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка векторов магазинов OLAP-ROZN"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{C345C5B0-4A98-489F-A26C-27A6F5A22797}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка векторов магазинов OLAP-ROZN"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="4">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{B2E817E9-F0AE-41E2-9455-4F4D6B190E22}"
          SQLTask:SqlStatementSource="truncate table [1822_shops]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка векторов магазинов s19-storage-sql"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{A03A54E4-7BB9-46C1-A969-CF9D8297E97A}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка векторов магазинов s19-storage-sql"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="2">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_shops]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка векторов магазинов s19-storage-sql CS"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{8A068173-BD86-4583-B97D-83ACD1BD7356}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка векторов магазинов s19-storage-sql CS"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="3">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{97220118-FEE3-405C-9A2C-E83EF32260D2}"
          SQLTask:SqlStatementSource="truncate table [temp_1822_shops]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка стоимости остатков ОТБРС"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{9965A50B-F651-4FE7-A26E-24F2D10E514A}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка стоимости остатков ОТБРС"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="5">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_balance_value]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка суммы переоценки"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{BAE20D3E-70E1-40DA-8F60-55CF6015775F}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка суммы переоценки"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="1">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_sum_reval]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка суммы потерь"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{B8BBD0CF-A8AA-44FA-886C-65D333A357B5}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка суммы потерь"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="Truncate table [1822_sum_loses]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка таблицы остатков"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{6FFB0288-C8CD-476F-9272-7C27DB852884}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка таблицы остатков"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="2">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_balance]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка таблицы продаж"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{5B011643-596F-4D6C-8245-2535646A78EE}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка таблицы продаж"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="4">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_sales]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка таблицы средний остаток"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{C6B6DDEB-5097-40FF-B997-C2C2618F9E98}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка таблицы средний остаток"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="3">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_avg_bal]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Очистка таблицы средних продаж"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{CAA4235E-C860-4376-9FFF-1AA917C86925}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Очистка таблицы средних продаж"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="3">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="truncate table [1822_avg_sales]&#xA;truncate table [1822_tmp_sales]" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Удаление фактов за предыдущий день"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Задача &quot;Выполнение SQL&quot;"
      DTS:DTSID="{60D2C12E-7F37-48D2-AF22-CC350A40DF30}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Удаление фактов за предыдущий день"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{2C1A025F-A61D-4728-B1C1-109CB1C5EB9E}"
          SQLTask:SqlStatementSource="delete from [1822_consolidated] where Дата = cast(dateadd(day, -1, getdate()) as date)" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение]"
      DTS:CreationName=""
      DTS:DTSID="{D15AFDE3-8427-4EC8-953E-D9131F6083E5}"
      DTS:From="Package\Очистка векторов магазинов s19-storage-sql"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение"
      DTS:To="Package\Загрузка магазинов" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 1]"
      DTS:CreationName=""
      DTS:DTSID="{72C35190-A59C-480A-9855-21057CE5F9BD}"
      DTS:From="Package\Очистка стоимости остатков ОТБРС"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 1"
      DTS:To="Package\Загрузка стоимости остатков из ОТБРС" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 10]"
      DTS:CreationName=""
      DTS:DTSID="{B36377C4-4144-48DF-A4E7-775EE6E0F3ED}"
      DTS:From="Package\Копирование таблицы в olap-rozn"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 10"
      DTS:To="Package\Очистка таблицы продаж" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 11]"
      DTS:CreationName=""
      DTS:DTSID="{8166A694-0298-4F06-9E73-56EFC6FF1AF3}"
      DTS:From="Package\Очистка таблицы продаж"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 11"
      DTS:To="Package\Загрузка дневных продаж" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 12]"
      DTS:CreationName=""
      DTS:DTSID="{B9F50E61-8E43-4D04-AC5E-FAF8EA6C5473}"
      DTS:From="Package\Копирование таблицы в olap-rozn"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 12"
      DTS:To="Package\Очистка таблицы средних продаж" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 13]"
      DTS:CreationName=""
      DTS:DTSID="{CAFCE4C3-4515-400F-9876-BA91D5F30180}"
      DTS:From="Package\Очистка таблицы средних продаж"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 13"
      DTS:To="Package\Загрузка продаж за 14 дней для расчета средних" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 14]"
      DTS:CreationName=""
      DTS:DTSID="{B5A94A61-E89C-49B3-9743-52F622BFD958}"
      DTS:From="Package\Загрузка продаж за 14 дней для расчета средних"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 14"
      DTS:To="Package\Определение средних продаж за 14 дней" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 15]"
      DTS:CreationName=""
      DTS:DTSID="{5AFE89F3-DDEE-4F2C-9FEB-0DBD992DA527}"
      DTS:From="Package\Копирование таблицы в CS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 15"
      DTS:To="Package\Очистка таблицы остатков" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 16]"
      DTS:CreationName=""
      DTS:DTSID="{7FA44DE5-C187-4A36-AA78-C971D854C78C}"
      DTS:From="Package\Очистка таблицы остатков"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 16"
      DTS:To="Package\Загрузка остатков из CS" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 17]"
      DTS:CreationName=""
      DTS:DTSID="{ABC966B8-9DAF-47D0-8999-404927A3DD7D}"
      DTS:From="Package\Удаление фактов за предыдущий день"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 17"
      DTS:To="Package\Загрузка фактов" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 18]"
      DTS:CreationName=""
      DTS:DTSID="{122BECA6-AAA8-49E2-A5EA-75CCA89A5A8D}"
      DTS:From="Package\Загрузка суммы переоценки из ОТБРС"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 18"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 19]"
      DTS:CreationName=""
      DTS:DTSID="{6FA13E58-EC69-4EF4-B3BF-EBF885A7D393}"
      DTS:From="Package\Загрузка суммы потерь из ОТБРС"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 19"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 2]"
      DTS:CreationName=""
      DTS:DTSID="{220292BC-1AB1-41C4-A052-60331A0B20A3}"
      DTS:From="Package\Очистка суммы потерь"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 2"
      DTS:To="Package\Загрузка суммы потерь из ОТБРС" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 20]"
      DTS:CreationName=""
      DTS:DTSID="{444DC032-2194-414D-B981-950E5D69C267}"
      DTS:From="Package\Загрузка стоимости остатков из ОТБРС"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 20"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 21]"
      DTS:CreationName=""
      DTS:DTSID="{27980394-938C-4FE5-8281-B9E627EE8D6D}"
      DTS:From="Package\Загрузка дневных продаж"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 21"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 22]"
      DTS:CreationName=""
      DTS:DTSID="{5AD8C1FD-269E-44A5-B695-DB46630AA7B4}"
      DTS:From="Package\Определение средних продаж за 14 дней"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 22"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 23]"
      DTS:CreationName=""
      DTS:DTSID="{9CFDC700-6907-4E76-A75B-FAB273AA02DF}"
      DTS:From="Package\Загрузка средних остатков из CS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 23"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 24]"
      DTS:CreationName=""
      DTS:DTSID="{7D549C49-AF40-4B1B-82F1-301FA612369E}"
      DTS:From="Package\Загрузка остатков из CS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 24"
      DTS:To="Package\Удаление фактов за предыдущий день" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 3]"
      DTS:CreationName=""
      DTS:DTSID="{486553EA-0019-47C4-AAE9-2F4C283CEA07}"
      DTS:From="Package\Очистка суммы переоценки"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 3"
      DTS:To="Package\Загрузка суммы переоценки из ОТБРС" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 4]"
      DTS:CreationName=""
      DTS:DTSID="{5288495C-27E7-4046-B8E4-59FF00D69073}"
      DTS:From="Package\Очистка векторов магазинов s19-storage-sql CS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 4"
      DTS:To="Package\Загрузка магазинов" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 5]"
      DTS:CreationName=""
      DTS:DTSID="{8695DECC-B3FD-4181-AF20-D3DEA2FAFAA9}"
      DTS:From="Package\Загрузка магазинов"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 5"
      DTS:To="Package\Копирование таблицы в CS" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 6]"
      DTS:CreationName=""
      DTS:DTSID="{D5375E54-B494-4F71-870C-80C8DC8F9455}"
      DTS:From="Package\Очистка таблицы средний остаток"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 6"
      DTS:To="Package\Загрузка средних остатков из CS" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 7]"
      DTS:CreationName=""
      DTS:DTSID="{FD85D3D3-A1A1-4778-8D21-A094F50E9B19}"
      DTS:From="Package\Копирование таблицы в CS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 7"
      DTS:To="Package\Очистка таблицы средний остаток" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 8]"
      DTS:CreationName=""
      DTS:DTSID="{7D8859FD-E5DF-4248-A6C7-FB36600F87CA}"
      DTS:From="Package\Очистка векторов магазинов OLAP-ROZN"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 8"
      DTS:To="Package\Загрузка магазинов" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Ограничение 9]"
      DTS:CreationName=""
      DTS:DTSID="{FD6DE7BF-FC45-4666-8A89-48917BF84371}"
      DTS:From="Package\Копирование таблицы в CS"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Ограничение 9"
      DTS:To="Package\Копирование таблицы в olap-rozn" />
  </DTS:PrecedenceConstraints>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="8">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="64" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:s="clr-namespace:System;assembly=mscorlib">
        <NodeLayout
          Size="336,141"
          Id="Package\Загрузка фактов"
          TopLeft="849.440476190476,949.083333333333" />
        <NodeLayout
          Size="1955,42"
          Id="Package\Удаление фактов за предыдущий день"
          TopLeft="36.5238095238095,789.75" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 10]"
          TopLeft="1041,179">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-44.5,314"
              Start="0,0"
              End="-44.5,306.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,162.822384428224" />
                  <mssgle:CubicBezierSegment
                    Point1="0,162.822384428224"
                    Point2="0,166.822384428224"
                    Point3="-4,166.822384428224" />
                  <mssgle:LineSegment
                    End="-40.5,166.822384428224" />
                  <mssgle:CubicBezierSegment
                    Point1="-40.5,166.822384428224"
                    Point2="-44.5,166.822384428224"
                    Point3="-44.5,170.822384428224" />
                  <mssgle:LineSegment
                    End="-44.5,306.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 12]"
          TopLeft="962,179">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-266,314"
              Start="0,0"
              End="-266,306.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,189.48905109489" />
                  <mssgle:CubicBezierSegment
                    Point1="0,189.48905109489"
                    Point2="0,193.48905109489"
                    Point3="-4,193.48905109489" />
                  <mssgle:LineSegment
                    End="-262,193.48905109489" />
                  <mssgle:CubicBezierSegment
                    Point1="-262,193.48905109489"
                    Point2="-266,193.48905109489"
                    Point3="-266,197.48905109489" />
                  <mssgle:LineSegment
                    End="-266,306.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 15]"
          TopLeft="707.666666666667,177">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-561.166666666667,292"
              Start="0,0"
              End="-561.166666666667,284.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,145.918367346939" />
                  <mssgle:CubicBezierSegment
                    Point1="0,145.918367346939"
                    Point2="0,149.918367346939"
                    Point3="-4,149.918367346939" />
                  <mssgle:LineSegment
                    End="-557.166666666667,149.918367346939" />
                  <mssgle:CubicBezierSegment
                    Point1="-557.166666666667,149.918367346939"
                    Point2="-561.166666666667,149.918367346939"
                    Point3="-561.166666666667,153.918367346939" />
                  <mssgle:LineSegment
                    End="-561.166666666667,284.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 17]"
          TopLeft="1015.73214285714,831.75">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,117.333333333333"
              Start="0,0"
              End="0,109.833333333333">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,109.833333333333" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 18]"
          TopLeft="1857.66666666667,511.666666666667">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-113.517857142857,278.083333333333"
              Start="0,0"
              End="-113.517857142857,270.583333333333">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,217.92179474096" />
                  <mssgle:CubicBezierSegment
                    Point1="0,217.92179474096"
                    Point2="0,221.92179474096"
                    Point3="-4,221.92179474096" />
                  <mssgle:LineSegment
                    End="-109.517857142857,221.92179474096" />
                  <mssgle:CubicBezierSegment
                    Point1="-109.517857142857,221.92179474096"
                    Point2="-113.517857142857,221.92179474096"
                    Point3="-113.517857142857,225.92179474096" />
                  <mssgle:LineSegment
                    End="-113.517857142857,270.583333333333" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 19]"
          TopLeft="1577.16666666667,511.666666666667">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-76.3928571428571,278.083333333333"
              Start="0,0"
              End="-76.3928571428571,270.583333333333">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,181.136358476644" />
                  <mssgle:CubicBezierSegment
                    Point1="0,181.136358476644"
                    Point2="0,185.136358476644"
                    Point3="-4,185.136358476644" />
                  <mssgle:LineSegment
                    End="-72.3928571428571,185.136358476644" />
                  <mssgle:CubicBezierSegment
                    Point1="-72.3928571428571,185.136358476644"
                    Point2="-76.3928571428571,185.136358476644"
                    Point3="-76.3928571428571,189.136358476644" />
                  <mssgle:LineSegment
                    End="-76.3928571428571,270.583333333333" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 20]"
          TopLeft="1279.16666666667,509.666666666667">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-21.7678571428571,280.083333333333"
              Start="0,0"
              End="-21.7678571428571,272.583333333333">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,155.95411280703" />
                  <mssgle:CubicBezierSegment
                    Point1="0,155.95411280703"
                    Point2="0,159.95411280703"
                    Point3="-4,159.95411280703" />
                  <mssgle:LineSegment
                    End="-17.7678571428571,159.95411280703" />
                  <mssgle:CubicBezierSegment
                    Point1="-17.7678571428571,159.95411280703"
                    Point2="-21.7678571428571,159.95411280703"
                    Point3="-21.7678571428571,163.95411280703" />
                  <mssgle:LineSegment
                    End="-21.7678571428571,272.583333333333" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 21]"
          TopLeft="999.5,672">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="14.5238095238095,117.75"
              Start="0,0"
              End="14.5238095238095,110.25">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,54.8750000000001" />
                  <mssgle:CubicBezierSegment
                    Point1="0,54.8750000000001"
                    Point2="0,58.8750000000001"
                    Point3="4,58.8750000000001" />
                  <mssgle:LineSegment
                    End="10.5238095238095,58.8750000000001" />
                  <mssgle:CubicBezierSegment
                    Point1="10.5238095238095,58.8750000000001"
                    Point2="14.5238095238095,58.8750000000001"
                    Point3="14.5238095238095,62.8750000000001" />
                  <mssgle:LineSegment
                    End="14.5238095238095,110.25" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 22]"
          TopLeft="717,672">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="53.6488095238095,117.75"
              Start="0,0"
              End="53.6488095238095,110.25">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,63.2464032717447" />
                  <mssgle:CubicBezierSegment
                    Point1="0,63.2464032717447"
                    Point2="0,67.2464032717447"
                    Point3="4,67.2464032717447" />
                  <mssgle:LineSegment
                    End="49.6488095238095,67.2464032717447" />
                  <mssgle:CubicBezierSegment
                    Point1="49.6488095238095,67.2464032717447"
                    Point2="53.6488095238095,67.2464032717447"
                    Point3="53.6488095238095,71.2464032717447" />
                  <mssgle:LineSegment
                    End="53.6488095238095,110.25" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 23]"
          TopLeft="401.5,585">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="125.77380952381,204.75"
              Start="0,0"
              End="125.77380952381,197.25">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,132.314064362336" />
                  <mssgle:CubicBezierSegment
                    Point1="0,132.314064362336"
                    Point2="0,136.314064362336"
                    Point3="4,136.314064362336" />
                  <mssgle:LineSegment
                    End="121.77380952381,136.314064362336" />
                  <mssgle:CubicBezierSegment
                    Point1="121.77380952381,136.314064362336"
                    Point2="125.77380952381,136.314064362336"
                    Point3="125.77380952381,140.314064362336" />
                  <mssgle:LineSegment
                    End="125.77380952381,197.25" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 24]"
          TopLeft="145,586">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="138.89880952381,203.75"
              Start="0,0"
              End="138.89880952381,196.25">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,158.600775589346" />
                  <mssgle:CubicBezierSegment
                    Point1="0,158.600775589346"
                    Point2="0,162.600775589346"
                    Point3="4,162.600775589346" />
                  <mssgle:LineSegment
                    End="134.89880952381,162.600775589346" />
                  <mssgle:CubicBezierSegment
                    Point1="134.89880952381,162.600775589346"
                    Point2="138.89880952381,162.600775589346"
                    Point3="138.89880952381,166.600775589346" />
                  <mssgle:LineSegment
                    End="138.89880952381,196.25" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 7]"
          TopLeft="776.333333333333,177">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-367.833333333333,293"
              Start="0,0"
              End="-367.833333333333,285.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,169.959183673469" />
                  <mssgle:CubicBezierSegment
                    Point1="0,169.959183673469"
                    Point2="0,173.959183673469"
                    Point3="-4,173.959183673469" />
                  <mssgle:LineSegment
                    End="-363.833333333333,173.959183673469" />
                  <mssgle:CubicBezierSegment
                    Point1="-363.833333333333,173.959183673469"
                    Point2="-367.833333333333,173.959183673469"
                    Point3="-367.833333333333,177.959183673469" />
                  <mssgle:LineSegment
                    End="-367.833333333333,285.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <NodeLayout
          Size="281,42"
          Id="Package\Очистка векторов магазинов OLAP-ROZN"
          TopLeft="32.3571428571429,142.5" />
        <NodeLayout
          Size="297,42"
          Id="Package\Очистка векторов магазинов s19-storage-sql"
          TopLeft="18.2142857142858,5.5" />
        <NodeLayout
          Size="312,42"
          Id="Package\Очистка векторов магазинов s19-storage-sql CS"
          TopLeft="5.5,71.0714285714284" />
        <NodeLayout
          Size="176,42"
          Id="Package\Загрузка магазинов"
          TopLeft="378.785714285714,68.7857142857143" />
        <NodeLayout
          Size="214,42"
          Id="Package\Копирование таблицы в CS"
          TopLeft="595.642857142857,70.2142857142857" />
        <NodeLayout
          Size="245,42"
          Id="Package\Копирование таблицы в olap-rozn"
          TopLeft="839.785714285714,71.6428571428571" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 8]"
          TopLeft="172.857142857143,142.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="293.928571428571,-31.7142857142856"
              Start="0,0"
              End="293.928571428571,-24.2142857142856">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,-11.8571428571428" />
                  <mssgle:CubicBezierSegment
                    Point1="0,-11.8571428571428"
                    Point2="0,-15.8571428571428"
                    Point3="4,-15.8571428571428" />
                  <mssgle:LineSegment
                    End="289.928571428571,-15.8571428571428" />
                  <mssgle:CubicBezierSegment
                    Point1="289.928571428571,-15.8571428571428"
                    Point2="293.928571428571,-15.8571428571428"
                    Point3="293.928571428571,-19.8571428571428" />
                  <mssgle:LineSegment
                    End="293.928571428571,-24.2142857142856" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение]"
          TopLeft="315.214285714286,26.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="63.5714285714286,57.6190476190477"
              Start="0,0"
              End="56.0714285714286,57.6190476190477">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="32.743119266055,0" />
                  <mssgle:CubicBezierSegment
                    Point1="32.743119266055,0"
                    Point2="36.743119266055,0"
                    Point3="36.743119266055,4" />
                  <mssgle:LineSegment
                    End="36.743119266055,53.6190476190477" />
                  <mssgle:CubicBezierSegment
                    Point1="36.743119266055,53.6190476190477"
                    Point2="36.743119266055,57.6190476190477"
                    Point3="40.743119266055,57.6190476190477" />
                  <mssgle:LineSegment
                    End="56.0714285714286,57.6190476190477" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 4]"
          TopLeft="317.5,90.9285714285713">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="61.2857142857143,0"
              Start="0,0"
              End="53.7857142857143,0">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="53.7857142857143,0" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 5]"
          TopLeft="554.785714285714,90.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="40.8571428571428,0"
              Start="0,0"
              End="33.3571428571428,0">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="33.3571428571428,0" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 9]"
          TopLeft="809.642857142857,91.9285714285713">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="30.1428571428573,0"
              Start="0,0"
              End="22.6428571428573,0">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="22.6428571428573,0" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <GroupLayout
          Text="Получение списка магазинов"
          ParentId="Package"
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="1090,239"
          Size="1090,282"
          Id="9b023f07-d960-4f3a-98df-954bd0b4541a"
          TopLeft="38.6666666666666,21.8095238095239">
          <GroupLayout.ChildrenIds>
            <s:String>Package\Очистка векторов магазинов OLAP-ROZN</s:String>
            <s:String>Package\Очистка векторов магазинов s19-storage-sql</s:String>
            <s:String>Package\Очистка векторов магазинов s19-storage-sql CS</s:String>
            <s:String>Package\Загрузка магазинов</s:String>
            <s:String>Package\Копирование таблицы в CS</s:String>
            <s:String>Package\Копирование таблицы в olap-rozn</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 8]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 4]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 5]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 9]</s:String>
          </GroupLayout.ChildrenIds>
        </GroupLayout>
        <NodeLayout
          Size="198,42"
          Id="Package\Загрузка остатков из CS"
          TopLeft="10.6746031746034,80.5793650793651" />
        <NodeLayout
          Size="211,42"
          Id="Package\Очистка таблицы остатков"
          TopLeft="5.5,5.5" />
        <NodeLayout
          Size="249,42"
          Id="Package\Очистка таблицы средний остаток"
          TopLeft="248.880952380953,6.53174603174602" />
        <NodeLayout
          Size="241,42"
          Id="Package\Загрузка средних остатков из CS"
          TopLeft="245.992063492063,79.8650793650796" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 16]"
          TopLeft="110.337301587302,47.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,33.0793650793651"
              Start="0,0"
              End="0,25.5793650793651">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,25.5793650793651" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 6]"
          TopLeft="369.936507936508,48.531746031746">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,31.3333333333336"
              Start="0,0"
              End="0,23.8333333333336">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,23.8333333333336" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <GroupLayout
          Text="Остатки из CS"
          ParentId="Package"
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="503,178"
          Size="503,221"
          Id="e8b7f851-96a1-4fe4-b0af-592892aed694"
          TopLeft="34.892857142857,420.107142857142">
          <GroupLayout.ChildrenIds>
            <s:String>Package\Загрузка остатков из CS</s:String>
            <s:String>Package\Очистка таблицы остатков</s:String>
            <s:String>Package\Очистка таблицы средний остаток</s:String>
            <s:String>Package\Загрузка средних остатков из CS</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 16]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 6]</s:String>
          </GroupLayout.ChildrenIds>
        </GroupLayout>
        <NodeLayout
          Size="207,42"
          Id="Package\Загрузка дневных продаж"
          TopLeft="330,143" />
        <NodeLayout
          Size="205,42"
          Id="Package\Очистка таблицы продаж"
          TopLeft="327.5,6" />
        <NodeLayout
          Size="248,42"
          Id="Package\Очистка таблицы средних продаж"
          TopLeft="5.5,5.5" />
        <NodeLayout
          Size="323,42"
          Id="Package\Загрузка продаж за 14 дней для расчета средних"
          TopLeft="8.47222222222217,71.0555555555555" />
        <NodeLayout
          Size="284,42"
          Id="Package\Определение средних продаж за 14 дней"
          TopLeft="8.75,143" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 11]"
          TopLeft="431.75,48">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,95"
              Start="0,0"
              End="0,87.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,87.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 13]"
          TopLeft="129.5,47.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-12.0277777777778,23.5555555555555"
              Start="0,0"
              End="-12.0277777777778,16.0555555555555">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,10.0636681043335" />
                  <mssgle:CubicBezierSegment
                    Point1="0,10.0636681043335"
                    Point2="0,14.0636681043335"
                    Point3="-4,14.0636681043335" />
                  <mssgle:LineSegment
                    End="-8.02777777777783,14.0636681043335" />
                  <mssgle:CubicBezierSegment
                    Point1="-8.02777777777783,14.0636681043335"
                    Point2="-12.0277777777778,14.0636681043335"
                    Point3="-12.0277777777778,18.0636681043335" />
                  <mssgle:LineSegment
                    End="-12.0277777777778,16.0555555555555" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 14]"
          TopLeft="169.972222222222,113.055555555556">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-19.2222222222222,29.9444444444445"
              Start="0,0"
              End="-19.2222222222222,22.4444444444445">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,10.9722222222222" />
                  <mssgle:CubicBezierSegment
                    Point1="0,10.9722222222222"
                    Point2="0,14.9722222222222"
                    Point3="-4,14.9722222222222" />
                  <mssgle:LineSegment
                    End="-15.2222222222222,14.9722222222222" />
                  <mssgle:CubicBezierSegment
                    Point1="-15.2222222222222,14.9722222222222"
                    Point2="-19.2222222222222,14.9722222222222"
                    Point3="-19.2222222222222,18.9722222222222" />
                  <mssgle:LineSegment
                    End="-19.2222222222222,22.4444444444445" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <GroupLayout
          Text="Продажи из OLAP"
          ParentId="Package"
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="542,240"
          Size="542,283"
          Id="380142ee-7f46-4cc5-9e91-bfc29ca55994"
          TopLeft="566.02380952381,444">
          <GroupLayout.ChildrenIds>
            <s:String>Package\Загрузка дневных продаж</s:String>
            <s:String>Package\Очистка таблицы продаж</s:String>
            <s:String>Package\Очистка таблицы средних продаж</s:String>
            <s:String>Package\Загрузка продаж за 14 дней для расчета средних</s:String>
            <s:String>Package\Определение средних продаж за 14 дней</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 11]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 13]</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 14]</s:String>
          </GroupLayout.ChildrenIds>
        </GroupLayout>
        <NodeLayout
          Size="271,42"
          Id="Package\Загрузка стоимости остатков из ОТБРС"
          TopLeft="5.5,90.5" />
        <NodeLayout
          Size="255,42"
          Id="Package\Очистка стоимости остатков ОТБРС"
          TopLeft="70.5,6.5" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 1]"
          TopLeft="198,48.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="-57,42"
              Start="0,0"
              End="-57,34.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,17" />
                  <mssgle:CubicBezierSegment
                    Point1="0,17"
                    Point2="0,21"
                    Point3="-4,21" />
                  <mssgle:LineSegment
                    End="-53,21" />
                  <mssgle:CubicBezierSegment
                    Point1="-53,21"
                    Point2="-57,21"
                    Point3="-57,25" />
                  <mssgle:LineSegment
                    End="-57,34.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <NodeLayout
          Size="191,42"
          Id="Package\Очистка суммы потерь"
          TopLeft="341.5,5.5" />
        <NodeLayout
          Size="243,42"
          Id="Package\Загрузка суммы потерь из ОТБРС"
          TopLeft="317.5,91.5" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 2]"
          TopLeft="438,47.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,44"
              Start="0,0"
              End="0,36.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,36.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <NodeLayout
          Size="215,42"
          Id="Package\Очистка суммы переоценки"
          TopLeft="551.5,5.5" />
        <NodeLayout
          Size="268,42"
          Id="Package\Загрузка суммы переоценки из ОТБРС"
          TopLeft="585.5,91.5" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Ограничение 3]"
          TopLeft="659,47.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="60.5,44"
              Start="0,0"
              End="60.5,36.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,18" />
                  <mssgle:CubicBezierSegment
                    Point1="0,18"
                    Point2="0,22"
                    Point3="4,22" />
                  <mssgle:LineSegment
                    End="56.5,22" />
                  <mssgle:CubicBezierSegment
                    Point1="56.5,22"
                    Point2="60.5,22"
                    Point3="60.5,26" />
                  <mssgle:LineSegment
                    End="60.5,36.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <GroupLayout
          Text="Данные из ОТБРС"
          ParentId="Package"
          HeaderHeight="43"
          IsExpanded="True"
          PanelSize="858,188"
          Size="858,231"
          Id="106cb2eb-5321-4835-83c1-797994bd8f80"
          TopLeft="1137.52380952381,334.666666666667">
          <GroupLayout.ChildrenIds>
            <s:String>Package\Загрузка стоимости остатков из ОТБРС</s:String>
            <s:String>Package\Очистка стоимости остатков ОТБРС</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 1]</s:String>
            <s:String>Package\Очистка суммы потерь</s:String>
            <s:String>Package\Загрузка суммы потерь из ОТБРС</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 2]</s:String>
            <s:String>Package\Очистка суммы переоценки</s:String>
            <s:String>Package\Загрузка суммы переоценки из ОТБРС</s:String>
            <s:String>Package.PrecedenceConstraints[Ограничение 3]</s:String>
          </GroupLayout.ChildrenIds>
        </GroupLayout>
      </GraphLayout>
    </LayoutInfo>
  </Package>
  <TaskHost
    design-time-name="Package\Загрузка дневных продаж">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="135,42"
          Id="Package\Загрузка дневных продаж\OLAP-ROZN"
          TopLeft="90,101" />
        <NodeLayout
          Size="137,42"
          Id="Package\Загрузка дневных продаж\ERP_reports"
          TopLeft="142,225" />
        <EdgeLayout
          Id="Package\Загрузка дневных продаж.Paths[Вывод источника ADO NET]"
          TopLeft="157.5,143">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="53,82"
              Start="0,0"
              End="53,74.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,37" />
                  <mssgle:CubicBezierSegment
                    Point1="0,37"
                    Point2="0,41"
                    Point3="4,41" />
                  <mssgle:LineSegment
                    End="49,41" />
                  <mssgle:CubicBezierSegment
                    Point1="49,41"
                    Point2="53,41"
                    Point3="53,45" />
                  <mssgle:LineSegment
                    End="53,74.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Загрузка магазинов">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="147,42"
          Id="Package\Загрузка магазинов\s19storage-sql"
          TopLeft="95,161" />
        <NodeLayout
          Size="111,42"
          Id="Package\Загрузка магазинов\ОТБРС"
          TopLeft="65,66" />
        <EdgeLayout
          Id="Package\Загрузка магазинов.Paths[Вывод источника ADO NET]"
          TopLeft="120.5,108">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="48,53"
              Start="0,0"
              End="48,45.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,22.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,22.5"
                    Point2="0,26.5"
                    Point3="4,26.5" />
                  <mssgle:LineSegment
                    End="44,26.5" />
                  <mssgle:CubicBezierSegment
                    Point1="44,26.5"
                    Point2="48,26.5"
                    Point3="48,30.5" />
                  <mssgle:LineSegment
                    End="48,45.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Загрузка остатков из CS">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="137,42"
          Id="Package\Загрузка остатков из CS\ERP_reports"
          TopLeft="160,229" />
        <NodeLayout
          Size="91,42"
          Id="Package\Загрузка остатков из CS\CS"
          TopLeft="126,110" />
        <EdgeLayout
          Id="Package\Загрузка остатков из CS.Paths[Вывод источника ADO NET]"
          TopLeft="171.5,152">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="57,77"
              Start="0,0"
              End="57,69.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,34.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,34.5"
                    Point2="0,38.5"
                    Point3="4,38.5" />
                  <mssgle:LineSegment
                    End="53,38.5" />
                  <mssgle:CubicBezierSegment
                    Point1="53,38.5"
                    Point2="57,38.5"
                    Point3="57,42.5" />
                  <mssgle:LineSegment
                    End="57,69.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Загрузка продаж за 14 дней для расчета средних">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="135,42"
          Id="Package\Загрузка продаж за 14 дней для расчета средних\OLAP-ROZN"
          TopLeft="156,144" />
        <NodeLayout
          Size="137,42"
          Id="Package\Загрузка продаж за 14 дней для расчета средних\ERP_reports"
          TopLeft="240,325" />
        <EdgeLayout
          Id="Package\Загрузка продаж за 14 дней для расчета средних.Paths[Вывод источника ADO NET]"
          TopLeft="223.5,186">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="85,139"
              Start="0,0"
              End="85,131.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,65.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,65.5"
                    Point2="0,69.5"
                    Point3="4,69.5" />
                  <mssgle:LineSegment
                    End="81,69.5" />
                  <mssgle:CubicBezierSegment
                    Point1="81,69.5"
                    Point2="85,69.5"
                    Point3="85,73.5" />
                  <mssgle:LineSegment
                    End="85,131.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Загрузка средних остатков из CS">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="137,42"
          Id="Package\Загрузка средних остатков из CS\ERP_reports"
          TopLeft="107,160" />
        <NodeLayout
          Size="91,42"
          Id="Package\Загрузка средних остатков из CS\CS"
          TopLeft="79,45" />
        <EdgeLayout
          Id="Package\Загрузка средних остатков из CS.Paths[Вывод источника ADO NET]"
          TopLeft="124.5,87">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="51,73"
              Start="0,0"
              End="51,65.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,32.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,32.5"
                    Point2="0,36.5"
                    Point3="4,36.5" />
                  <mssgle:LineSegment
                    End="47,36.5" />
                  <mssgle:CubicBezierSegment
                    Point1="47,36.5"
                    Point2="51,36.5"
                    Point3="51,40.5" />
                  <mssgle:LineSegment
                    End="51,65.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Загрузка стоимости остатков из ОТБРС">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="111,42"
          Id="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС"
          TopLeft="88,53" />
        <NodeLayout
          Size="151,42"
          Id="Package\Загрузка стоимости остатков из ОТБРС\s19-storage-sql"
          TopLeft="72,166" />
        <EdgeLayout
          Id="Package\Загрузка стоимости остатков из ОТБРС.Paths[Вывод источника ADO NET]"
          TopLeft="145.5,95">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,71"
              Start="0,0"
              End="0,63.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,63.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Загрузка стоимости остатков из ОТБРС\ОТБРС">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Загрузка суммы переоценки из ОТБРС">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="111,42"
          Id="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС"
          TopLeft="114,82" />
        <NodeLayout
          Size="151,42"
          Id="Package\Загрузка суммы переоценки из ОТБРС\s19-stroage-sql"
          TopLeft="114,175" />
        <EdgeLayout
          Id="Package\Загрузка суммы переоценки из ОТБРС.Paths[Вывод источника ADO NET]"
          TopLeft="169.5,124">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="20,51"
              Start="0,0"
              End="20,43.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,21.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,21.5"
                    Point2="0,25.5"
                    Point3="4,25.5" />
                  <mssgle:LineSegment
                    End="16,25.5" />
                  <mssgle:CubicBezierSegment
                    Point1="16,25.5"
                    Point2="20,25.5"
                    Point3="20,29.5" />
                  <mssgle:LineSegment
                    End="20,43.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Загрузка суммы переоценки из ОТБРС\ОТБРС">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <TaskHost
    design-time-name="Package\Загрузка суммы потерь из ОТБРС">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="111,42"
          Id="Package\Загрузка суммы потерь из ОТБРС\ОТБРС"
          TopLeft="84,64" />
        <NodeLayout
          Size="151,42"
          Id="Package\Загрузка суммы потерь из ОТБРС\s19-storage-sql"
          TopLeft="126,188" />
        <EdgeLayout
          Id="Package\Загрузка суммы потерь из ОТБРС.Paths[Вывод источника ADO NET]"
          TopLeft="139.5,106">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="62,82"
              Start="0,0"
              End="62,74.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,37" />
                  <mssgle:CubicBezierSegment
                    Point1="0,37"
                    Point2="0,41"
                    Point3="4,41" />
                  <mssgle:LineSegment
                    End="58,41" />
                  <mssgle:CubicBezierSegment
                    Point1="58,41"
                    Point2="62,41"
                    Point3="62,45" />
                  <mssgle:LineSegment
                    End="62,74.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Загрузка фактов">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="103,42"
          Id="Package\Загрузка фактов\Факт"
          TopLeft="120,268" />
        <NodeLayout
          Size="143,42"
          Id="Package\Загрузка фактов\Сбор данных"
          TopLeft="98,90" />
        <EdgeLayout
          Id="Package\Загрузка фактов.Paths[Вывод источника ADO NET]"
          TopLeft="170.5,132">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,136"
              Start="0,0"
              End="0,128.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,128.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Копирование таблицы в CS">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="91,42"
          Id="Package\Копирование таблицы в CS\CS"
          TopLeft="163,219" />
        <NodeLayout
          Size="137,42"
          Id="Package\Копирование таблицы в CS\ERP_reports"
          TopLeft="102,78" />
        <EdgeLayout
          Id="Package\Копирование таблицы в CS.Paths[Вывод источника ADO NET]"
          TopLeft="170.5,120">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="38,99"
              Start="0,0"
              End="38,91.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,45.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,45.5"
                    Point2="0,49.5"
                    Point3="4,49.5" />
                  <mssgle:LineSegment
                    End="34,49.5" />
                  <mssgle:CubicBezierSegment
                    Point1="34,49.5"
                    Point2="38,49.5"
                    Point3="38,53.5" />
                  <mssgle:LineSegment
                    End="38,91.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Копирование таблицы в olap-rozn">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="135,42"
          Id="Package\Копирование таблицы в olap-rozn\OLAP-ROZN"
          TopLeft="126,187" />
        <NodeLayout
          Size="137,42"
          Id="Package\Копирование таблицы в olap-rozn\ERP_reports"
          TopLeft="61,66" />
        <EdgeLayout
          Id="Package\Копирование таблицы в olap-rozn.Paths[Вывод источника ADO NET]"
          TopLeft="129.5,108">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="64,79"
              Start="0,0"
              End="64,71.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,35.5" />
                  <mssgle:CubicBezierSegment
                    Point1="0,35.5"
                    Point2="0,39.5"
                    Point3="4,39.5" />
                  <mssgle:LineSegment
                    End="60,39.5" />
                  <mssgle:CubicBezierSegment
                    Point1="60,39.5"
                    Point2="64,39.5"
                    Point3="64,43.5" />
                  <mssgle:LineSegment
                    End="64,71.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <TaskHost
    design-time-name="Package\Определение средних продаж за 14 дней">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="167,42"
          Id="Package\Определение средних продаж за 14 дней\Средние продажи"
          TopLeft="107,192" />
        <NodeLayout
          Size="176,42"
          Id="Package\Определение средних продаж за 14 дней\Временная таблица"
          TopLeft="106,91" />
        <EdgeLayout
          Id="Package\Определение средних продаж за 14 дней.Paths[Вывод источника ADO NET]"
          TopLeft="192.25,133">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,59"
              Start="0,0"
              End="0,51.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,51.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="0,0,0,0"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>